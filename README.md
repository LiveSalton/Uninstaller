# 极简卸载器 - 1MB挑战

一款追求极致轻量化的Android应用管理工具，目标体积**1MB以内**。

## ✨ 特性

- 🎯 **极致轻量**: 目标APK体积1MB以内
- 🖤 **黑白美学**: 纯黑白配色，永不过时的极简设计
- ⚡ **核心功能**: 专注应用卸载和备份，去除一切冗余
- 🔒 **无广告**: 纯净体验，无任何广告干扰
- 📱 **兼容性**: 支持Android 7.0+ (API 24+)

## 🏗️ 核心功能

### 主要功能
- **应用管理**: 查看、搜索、筛选已安装应用
- **批量卸载**: 支持多选批量卸载操作
- **应用备份**: 备份APK文件到本地存储
- **备份管理**: 恢复、删除备份文件
- **个性化设置**: 显示选项、排序方式自定义

### 界面设计
- **主界面**: 应用列表 + 搜索 + 批量操作
- **备份管理**: 备份文件列表 + 恢复/删除操作
- **设置界面**: 显示选项 + 排序方式配置

## 🚀 快速开始

### 环境要求
- Android Studio Hedgehog | 2023.1.1+
- JDK 11+
- Android SDK API 35
- Gradle 8.11.1+

### 构建项目
```bash
# 克隆项目
git clone [repository-url]
cd Unstaller

# 构建调试版本
./gradlew assembleDebug

# 构建发布版本（启用混淆压缩）
./gradlew assembleRelease

# 检查APK大小
chmod +x check_apk_size.sh
./check_apk_size.sh
```

## 📏 体积优化策略

### 代码层面
- ✅ **R8混淆**: 启用最激进的代码混淆和压缩
- ✅ **移除日志**: 生产版本移除所有Log输出
- ✅ **最小依赖**: 仅保留必要的androidx库
- ✅ **本地API**: 优先使用Android原生API

### 资源层面
- ✅ **矢量图标**: 所有图标使用Vector Drawable
- ✅ **资源压缩**: 移除未使用的资源文件
- ✅ **单语言**: 仅保留中文资源
- ✅ **极简设计**: 黑白配色，减少颜色资源

### 架构层面
- ✅ **无第三方**: 最小化外部依赖
- ✅ **单Activity**: 减少组件数量
- ✅ **Fragment轻量**: 简化Fragment结构

## 📊 当前状态

### 目标进度
- 🎯 **目标大小**: 1MB
- 📱 **当前功能**: 100%完成
- ⚙️ **优化程度**: 激进压缩已启用

### 功能完成度
- ✅ 应用列表展示
- ✅ 搜索过滤功能
- ✅ 批量选择操作
- ✅ 应用卸载功能
- ✅ APK备份功能
- ✅ 备份文件管理
- ✅ 个性化设置
- ✅ 黑白主题设计

## 🛠️ 技术栈

### 核心技术
- **语言**: Java
- **UI框架**: Android原生View系统
- **状态栏**: ImmersionBar (3.2.2)
- **权限管理**: Android 6.0+ 动态权限
- **文件操作**: 原生Java IO

### 架构模式
- **MVVM轻量版**: Fragment + Adapter + Entity
- **单例模式**: 数据预加载和缓存
- **观察者模式**: UI状态更新

## 📁 项目结构

```
app/src/main/
├── java/com/salton123/uninstaller/
│   ├── MainActivity.java           # 主Activity
│   ├── BackupActivity.java         # 备份管理
│   ├── XApp.java                   # Application类
│   ├── fm/
│   │   ├── SpeedUpListFragment.java # 主Fragment
│   │   └── BaseFragment.java        # Fragment基类
│   ├── adapter/
│   │   ├── SpeedUpAdapter.java      # 应用列表适配器
│   │   └── AdapterBase.java         # 适配器基类
│   ├── entity/
│   │   └── AppEntity.java           # 应用实体
│   └── util/
│       ├── BackupManager.java       # 备份管理
│       ├── SettingsManager.java     # 设置管理
│       ├── Utils.java               # 工具类
│       └── DateUtils.java           # 时间工具
└── res/
    ├── layout/                      # 布局文件
    ├── drawable/                    # 图标资源
    ├── values/                      # 配置资源
    └── xml/                         # 权限配置
```

## 🔧 开发指南

### 添加新功能
1. **评估体积影响**: 每个新功能都要考虑对APK大小的影响
2. **优先原生API**: 避免引入新的第三方依赖
3. **资源复用**: 尽量复用现有的颜色、样式资源
4. **代码简洁**: 保持函数简短，避免复杂的嵌套

### 代码规范
- 所有文件、类、方法使用中文注释
- 变量和方法名使用英文，遵循camelCase
- 每个类控制在200行以内
- 每个方法控制在20行以内

### 性能优化
- ListView使用ViewHolder模式
- 异步加载应用列表
- 及时释放资源和监听器
- 避免内存泄漏

## 📱 使用说明

### 基本操作
1. **查看应用**: 启动后自动显示已安装的第三方应用
2. **搜索应用**: 使用顶部搜索框快速查找
3. **选择应用**: 点击复选框或应用项选择
4. **批量操作**: 选择多个应用后点击底部按钮

### 卸载应用
1. 选择要卸载的应用
2. 点击"删除"按钮
3. 在系统卸载界面确认操作

### 备份功能
1. 选择要备份的应用
2. 点击"备份"按钮等待完成
3. 点击"备份管理"查看备份文件
4. 在备份列表中点击恢复，长按删除

### 个性化设置
1. 点击右上角设置图标
2. 配置显示选项（时间、文件名、路径）
3. 选择排序方式（名称、大小、时间、路径）
4. 设置搜索框显示状态

## 🎯 1MB挑战

### 优化检查清单
- [ ] 移除所有未使用的资源
- [ ] 压缩所有图片资源
- [ ] 删除调试代码和日志
- [ ] 最小化字符串资源
- [ ] 检查ProGuard规则
- [ ] 验证APK内容

### 监控工具
```bash
# 运行体积检查脚本
./check_apk_size.sh

# 手动分析APK内容
aapt list -v app/build/outputs/apk/release/app-release.apk

# 查看混淆映射
cat app/build/outputs/mapping/release/mapping.txt
```

## 🤝 贡献指南

欢迎提交Issue和Pull Request！

### 贡献原则
1. **体积优先**: 所有改动必须考虑对APK大小的影响
2. **功能精简**: 只添加核心必要功能
3. **代码质量**: 保持代码简洁和可维护性
4. **测试充分**: 确保功能正常工作

## 📄 许可证

本项目采用 MIT 许可证 - 查看 [LICENSE](LICENSE) 文件了解详情。

## 🏆 致谢

感谢所有为极致轻量化目标贡献力量的开发者！

---

**极简卸载器** - 在200KB内实现完整的应用管理功能 🚀 